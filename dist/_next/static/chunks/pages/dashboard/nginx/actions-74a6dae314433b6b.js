(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[517],{1312:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1713).A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},1538:(e,s,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/nginx/actions",function(){return t(9187)}])},6591:(e,s,t)=>{"use strict";t.d(s,{Fc:()=>i,TN:()=>d,XL:()=>c});var a=t(7876);t(4232);var l=t(9518),r=t(8928);let n=(0,l.F)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function i(e){let{className:s,variant:t,...l}=e;return(0,a.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,r.cn)(n({variant:t}),s),...l})}function c(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"alert-title",className:(0,r.cn)("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",s),...t})}function d(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"alert-description",className:(0,r.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",s),...t})}},6739:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1713).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},7328:(e,s,t)=>{e.exports=t(9836)},9081:(e,s,t)=>{"use strict";t.d(s,{BT:()=>c,Wu:()=>d,ZB:()=>i,Zp:()=>r,aR:()=>n,wL:()=>o});var a=t(7876);t(4232);var l=t(8928);function r(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,l.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...t})}function n(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,l.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...t})}function i(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,l.cn)("leading-none font-semibold",s),...t})}function c(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,l.cn)("text-muted-foreground text-sm",s),...t})}function d(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,l.cn)("px-6",s),...t})}function o(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-footer",className:(0,l.cn)("flex items-center px-6 [.border-t]:pt-6",s),...t})}},9187:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>y});var a=t(7876),l=t(7328),r=t.n(l),n=t(4232),i=t(3760),c=t(9983),d=t(6591),o=t(9081),x=t(2774),u=t(6739),m=t(1713);let h=(0,m.A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),j=(0,m.A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),p=(0,m.A)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);var N=t(1312);let g=(0,m.A)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),v=(0,m.A)("power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]),f=(0,m.A)("circle-help",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),b=e=>{let{title:s,result:t,loading:l,error:r}=e;if(l)return(0,a.jsx)(o.Zp,{className:"mt-4",children:(0,a.jsxs)(o.Wu,{className:"pt-4",children:[(0,a.jsxs)("div",{className:"flex items-center mb-3",children:[(0,a.jsx)(x.E,{className:"h-5 w-5 mr-2 rounded-full"}),(0,a.jsx)(x.E,{className:"h-5 w-32"})]}),(0,a.jsx)(x.E,{className:"h-4 w-3/4 mb-2"}),(0,a.jsx)(x.E,{className:"h-4 w-1/2 mb-4"}),(0,a.jsx)(x.E,{className:"h-20 w-full"})]})});if(r)return(0,a.jsxs)(d.Fc,{variant:"destructive",className:"mt-4",children:[(0,a.jsx)(u.A,{className:"h-4 w-4"}),(0,a.jsxs)(d.XL,{className:"font-medium",children:["Error Running ",s]}),(0,a.jsx)(d.TN,{children:r})]});if(!t)return null;let n=t.success,i="Nginx Status"===s&&3===t.return_code;return(0,a.jsxs)(o.Zp,{className:"mt-4 border-".concat(n?"primary/20":"destructive/20"),children:[(0,a.jsxs)(o.aR,{className:"pb-2",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[n?(0,a.jsx)(h,{className:"h-5 w-5 mr-2 text-primary"}):(0,a.jsx)(j,{className:"h-5 w-5 mr-2 text-destructive"}),(0,a.jsxs)(o.ZB,{children:[s," Result: ",n?"Success":"Failed"]}),i&&(0,a.jsx)("span",{className:"ml-2 text-xs text-muted-foreground",children:"(Service likely inactive - exit code 3)"})]}),(0,a.jsxs)(o.BT,{children:[(0,a.jsxs)("span",{children:["Command: ",(0,a.jsx)("code",{className:"bg-muted text-muted-foreground px-1 rounded",children:t.command})]}),(0,a.jsxs)("span",{className:"ml-2",children:["Return Code: ",t.return_code]}),t.message&&(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1 italic",children:t.message})]})]}),(0,a.jsxs)(o.Wu,{className:"pt-0",children:[t.stdout&&(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("h4",{className:"text-sm font-medium mb-1 text-foreground",children:"stdout:"}),(0,a.jsx)("pre",{className:"text-xs bg-muted p-3 rounded-md overflow-auto max-h-40 w-full text-foreground",children:t.stdout})]}),t.stderr&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium mb-1 text-foreground",children:"stderr:"}),(0,a.jsx)("pre",{className:"text-xs bg-muted p-3 rounded-md overflow-auto max-h-40 w-full text-foreground",children:t.stderr})]})]})]})},w=()=>{let{request:e,loading:s,error:t,setError:l}=(0,i.Ay)(),[r,x]=(0,n.useState)(null),[m,w]=(0,n.useState)(null),[y,R]=(0,n.useState)(null),[S,k]=(0,n.useState)(null),[A,T]=(0,n.useState)(null),[Z,B]=(0,n.useState)(null),[_,C]=(0,n.useState)(null),[E,M]=(0,n.useState)(null),[W,F]=(0,n.useState)(!1),[L,$]=(0,n.useState)(!1),[z,D]=(0,n.useState)(!1),[X,q]=(0,n.useState)(!1),[P,I]=(0,n.useState)(!1),[O,H]=(0,n.useState)(!1),[G,U]=(0,n.useState)(!1),[V,J]=(0,n.useState)(!1),[K,Q]=(0,n.useState)(!1),Y=async(s,t,a,r)=>{r(!0),a(null),l(null);let n=null;Q(!0);try{let s=await e(t,{method:"POST"});a(s)}catch(e){console.error("Failed to run ".concat(s,":"),e),n=e.message||"Failed to run ".concat(s),a(null)}finally{r(!1)}return n},ee=async()=>{let e=await Y("Test Configuration","/nginx/actions/test",x,F);ec(["testResult"]),e&&x({error:e})},es=async()=>{let e=await Y("Reload Service","/nginx/actions/reload",w,$);ec(["reloadResult"]),e&&w({error:e})},et=async()=>{let e=await Y("Check Status","/nginx/actions/status",R,D);ec(["statusResult"]),e&&R({error:e})},ea=async()=>{let e=await Y("Start Service","/nginx/actions/start",k,q);ec(["startResult"]),e&&k({error:e})},el=async()=>{let e=await Y("Stop Service","/nginx/actions/stop",T,I);ec(["stopResult"]),e&&T({error:e})},er=async()=>{let e=await Y("Restart Service","/nginx/actions/restart",B,H);ec(["restartResult"]),e&&B({error:e})},en=async()=>{let e=await Y("Enable Service","/nginx/actions/enable",C,U);ec(["enableResult"]),e&&C({error:e})},ei=async()=>{let e=await Y("Disable Service","/nginx/actions/disable",M,J);ec(["disableResult"]),e&&M({error:e})},ec=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.includes("testResult")||x(null),e.includes("reloadResult")||w(null),e.includes("statusResult")||R(null),e.includes("startResult")||k(null),e.includes("stopResult")||T(null),e.includes("restartResult")||B(null),e.includes("enableResult")||C(null),e.includes("disableResult")||M(null)},ed=W||L||z||X||P||O||G||V;return(0,a.jsxs)("div",{className:"transition-all duration-300",children:[t&&!ed&&(0,a.jsxs)(d.Fc,{variant:"destructive",className:"mb-4",children:[(0,a.jsx)(u.A,{className:"h-4 w-4"}),(0,a.jsx)(d.XL,{children:"API Error"}),(0,a.jsx)(d.TN,{children:t})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 lg:grid-cols-4 gap-4 mb-6",children:[(0,a.jsxs)(o.Zp,{className:"transition-all hover:shadow-md",children:[(0,a.jsxs)(o.aR,{className:"pb-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(p,{className:"h-5 w-5 text-primary"}),(0,a.jsx)(o.ZB,{children:"Test Configuration"})]}),(0,a.jsxs)(o.BT,{children:["Run ",(0,a.jsx)("code",{className:"bg-muted px-1 rounded",children:"nginx -t"})," to validate syntax."]})]}),(0,a.jsx)(o.Wu,{children:(0,a.jsx)(c.$,{onClick:ee,disabled:ed,className:"w-full",variant:W?"outline":"default",children:W?(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(N.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Testing..."]}):"Run Test"})})]}),(0,a.jsxs)(o.Zp,{className:"transition-all hover:shadow-md",children:[(0,a.jsxs)(o.aR,{className:"pb-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(g,{className:"h-5 w-5 text-primary"}),(0,a.jsx)(o.ZB,{children:"Check Status"})]}),(0,a.jsxs)(o.BT,{children:["Run ",(0,a.jsx)("code",{className:"bg-muted px-1 rounded",children:"systemctl status nginx"}),"."]})]}),(0,a.jsx)(o.Wu,{children:(0,a.jsx)(c.$,{onClick:et,disabled:ed,className:"w-full",variant:z?"outline":"default",children:z?(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(N.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Checking..."]}):"Get Status"})})]}),(0,a.jsxs)(o.Zp,{className:"transition-all hover:shadow-md",children:[(0,a.jsxs)(o.aR,{className:"pb-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(N.A,{className:"h-5 w-5 text-primary"}),(0,a.jsx)(o.ZB,{children:"Reload Service"})]}),(0,a.jsxs)(o.BT,{children:["Run ",(0,a.jsx)("code",{className:"bg-muted px-1 rounded",children:"systemctl reload nginx"}),"."]})]}),(0,a.jsx)(o.Wu,{children:(0,a.jsx)(c.$,{onClick:es,disabled:ed,className:"w-full",variant:L?"outline":"default",children:L?(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(N.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Reloading..."]}):"Reload Nginx"})})]}),(0,a.jsxs)(o.Zp,{className:"transition-all hover:shadow-md",children:[(0,a.jsxs)(o.aR,{className:"pb-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(p,{className:"h-5 w-5 text-primary"}),(0,a.jsx)(o.ZB,{children:"Restart Service"})]}),(0,a.jsxs)(o.BT,{children:["Run ",(0,a.jsx)("code",{className:"bg-muted px-1 rounded",children:"systemctl restart nginx"}),"."]})]}),(0,a.jsx)(o.Wu,{children:(0,a.jsx)(c.$,{onClick:er,disabled:ed,className:"w-full",variant:O?"outline":"default",children:O?(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(N.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Restarting..."]}):"Restart Nginx"})})]}),(0,a.jsxs)(o.Zp,{className:"transition-all hover:shadow-md",children:[(0,a.jsxs)(o.aR,{className:"pb-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(v,{className:"h-5 w-5 text-primary"}),(0,a.jsx)(o.ZB,{children:"Start Service"})]}),(0,a.jsxs)(o.BT,{children:["Run ",(0,a.jsx)("code",{className:"bg-muted px-1 rounded",children:"systemctl start nginx"}),"."]})]}),(0,a.jsx)(o.Wu,{children:(0,a.jsx)(c.$,{onClick:ea,disabled:ed,className:"w-full",variant:X?"outline":"default",children:X?(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(N.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Starting..."]}):"Start Nginx"})})]}),(0,a.jsxs)(o.Zp,{className:"transition-all hover:shadow-md",children:[(0,a.jsxs)(o.aR,{className:"pb-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(v,{className:"h-5 w-5 text-destructive"}),(0,a.jsx)(o.ZB,{children:"Stop Service"})]}),(0,a.jsxs)(o.BT,{children:["Run ",(0,a.jsx)("code",{className:"bg-muted px-1 rounded",children:"systemctl stop nginx"}),"."]})]}),(0,a.jsx)(o.Wu,{children:(0,a.jsx)(c.$,{onClick:el,disabled:ed,className:"w-full",variant:P?"outline":"destructive",children:P?(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(N.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Stopping..."]}):"Stop Nginx"})})]}),(0,a.jsxs)(o.Zp,{className:"transition-all hover:shadow-md",children:[(0,a.jsxs)(o.aR,{className:"pb-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(h,{className:"h-5 w-5 text-primary"}),(0,a.jsx)(o.ZB,{children:"Enable Service"})]}),(0,a.jsxs)(o.BT,{children:["Run ",(0,a.jsx)("code",{className:"bg-muted px-1 rounded",children:"systemctl enable nginx"})," to start on boot."]})]}),(0,a.jsx)(o.Wu,{children:(0,a.jsx)(c.$,{onClick:en,disabled:ed,className:"w-full",variant:G?"outline":"default",children:G?(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(N.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Enabling..."]}):"Enable Nginx"})})]}),(0,a.jsxs)(o.Zp,{className:"transition-all hover:shadow-md",children:[(0,a.jsxs)(o.aR,{className:"pb-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(j,{className:"h-5 w-5 text-destructive"}),(0,a.jsx)(o.ZB,{children:"Disable Service"})]}),(0,a.jsxs)(o.BT,{children:["Run ",(0,a.jsx)("code",{className:"bg-muted px-1 rounded",children:"systemctl disable nginx"})," to not start on boot."]})]}),(0,a.jsx)(o.Wu,{children:(0,a.jsx)(c.$,{onClick:ei,disabled:ed,className:"w-full",variant:V?"outline":"destructive",children:V?(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(N.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Disabling..."]}):"Disable Nginx"})})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(W||r||(null==r?void 0:r.error))&&(0,a.jsx)(b,{title:"Nginx Test",result:r,loading:W,error:null==r?void 0:r.error}),(z||y||(null==y?void 0:y.error))&&(0,a.jsx)(b,{title:"Nginx Status",result:y,loading:z,error:null==y?void 0:y.error}),(L||m||(null==m?void 0:m.error))&&(0,a.jsx)(b,{title:"Nginx Reload",result:m,loading:L,error:null==m?void 0:m.error}),(O||Z||(null==Z?void 0:Z.error))&&(0,a.jsx)(b,{title:"Nginx Restart",result:Z,loading:O,error:null==Z?void 0:Z.error}),(X||S||(null==S?void 0:S.error))&&(0,a.jsx)(b,{title:"Nginx Start",result:S,loading:X,error:null==S?void 0:S.error}),(P||A||(null==A?void 0:A.error))&&(0,a.jsx)(b,{title:"Nginx Stop",result:A,loading:P,error:null==A?void 0:A.error}),(G||_||(null==_?void 0:_.error))&&(0,a.jsx)(b,{title:"Nginx Enable",result:_,loading:G,error:null==_?void 0:_.error}),(V||E||(null==E?void 0:E.error))&&(0,a.jsx)(b,{title:"Nginx Disable",result:E,loading:V,error:null==E?void 0:E.error})]}),!K&&!ed&&(0,a.jsxs)("div",{className:"text-center p-4 text-muted-foreground animate-fadeIn",children:[(0,a.jsx)(f,{className:"h-8 w-8 mx-auto mb-2 opacity-30"}),(0,a.jsx)("p",{children:"Choose an action above to manage your Nginx service"})]})]})};function y(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(r(),{children:[(0,a.jsx)("title",{children:"Secure UI - Nginx Actions"}),(0,a.jsx)("meta",{name:"description",content:"Test configuration, reload service, check status"})]}),(0,a.jsx)(w,{})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[636,593,792],()=>s(1538)),_N_E=e.O()}]);